# Лабораторная работа № 4

## Задание

**Тема:** Проектирование функциональной модели информационной системы в нотации IDEF0

**Задание:** Декомпозировать функциональную модель проектируемой системы SportRent в нотации IDEF0, создать декомпозиции как минимум двух уровней. Допустимо декомпозировать один, наиболее значимый для проектируемой системы, функциональный блок на каждом уровне. Добавить описание функциональных блоков и потоков данных, а также выводы к работе.

---

## Статус выполнения

### ✅ Выполнено

1. **Создана диаграмма декомпозиции уровня A0** (`lab4/solutions/diagrams/decomposition-a0.puml`)
   - 6 функциональных блоков (A1-A6)
   - Все интерфейсные связи (входы, управление, выходы, механизмы)
   - Внутренние потоки данных между блоками

2. **Создана диаграмма декомпозиции уровня A3** (`lab4/solutions/diagrams/decomposition-a3.puml`)
   - 5 функциональных блоков (A31-A35)
   - Детализация процесса "Обрабатывать бронирование и заказы"
   - Обратная связь между блоками

3. **Созданы PNG изображения диаграмм** (в `lab4/solutions/diagrams/`)

4. **Создан детальный отчет** (`lab4/solutions/report-draft.md`)
   - Теоретическая часть (методология IDEF0)
   - Практическая часть (описание всех блоков и потоков)
   - Выводы
   - Список источников

5. **Создано руководство по переносу в Ramus** (`lab4/solutions/RAMUS_TRANSFER_GUIDE.md`)

---

## ⚠️ TODO: Перенос диаграмм в Ramus Educational

Диаграммы созданы в PlantUML как **прототип для визуализации**. Для финальной версии работы **необходимо** перенести диаграммы в специализированный инструмент Ramus Educational.

### Почему Ramus Educational?

1. **Стандарт курса**: Методическое пособие требует использования Ramus Educational
2. **Соответствие РД IDEF0-2000**: Ramus полностью соответствует стандарту функционального моделирования
3. **Корректная нотация**: PlantUML не имеет встроенной поддержки IDEF0, что может привести к неточностям в нотации
4. **Экспорт и документирование**: Ramus позволяет экспортировать диаграммы в правильном формате

### Инструкция по переносу

Смотрите **детальное руководство** в файле:
```
lab4/solutions/RAMUS_TRANSFER_GUIDE.md
```

Этот документ содержит:
- Пошаговую инструкцию по работе в Ramus Educational
- Полное описание структуры каждого блока (входы, управление, выходы, механизмы)
- Описание всех потоков данных и связей
- Рекомендации по размещению блоков
- Проверочный чек-лист

### Шаги для выполнения

1. **Установить Ramus Educational**
   - Скачать с официального сайта: https://ramus.sourceforge.net/
   - Установить Java (если не установлена)

2. **Создать проект SportRent_IDEF0.rsf**
   - Импортировать контекстную диаграмму A-0 из Lab 3 (если она была создана в Ramus)
   - Или создать контекстную диаграмму заново

3. **Создать диаграмму A0** (первый уровень декомпозиции)
   - Использовать описание из `RAMUS_TRANSFER_GUIDE.md`
   - Создать 6 блоков: A1-A6
   - Присоединить все стрелки согласно документации

4. **Создать диаграмму A3** (второй уровень декомпозиции)
   - Использовать описание из `RAMUS_TRANSFER_GUIDE.md`
   - Создать 5 блоков: A31-A35
   - Создать внутренние связи и обратную связь

5. **Экспортировать диаграммы**
   - File → Export → Image (PNG)
   - Сохранить в `lab4/solutions/diagrams/`
   - Заменить PlantUML диаграммы на Ramus диаграммы

6. **Обновить отчет**
   - Заменить ссылки на изображения в `report-draft.md`
   - Проверить соответствие описаний

---

## Структура файлов

```
lab4/
├── task/
│   ├── README.md                    # Это файл - описание задания и статус
│   ├── img.png                      # Методические материалы (примеры)
│   ├── img_1.png
│   └── img_2.png
├── solutions/
│   ├── diagrams/
│   │   ├── decomposition-a0.puml    # PlantUML прототип уровня A0
│   │   ├── decomposition-a0.png     # PNG изображение (PlantUML)
│   │   ├── decomposition-a3.puml    # PlantUML прототип уровня A3
│   │   └── decomposition-a3.png     # PNG изображение (PlantUML)
│   ├── report-draft.md              # Черновик отчета (содержание готово)
│   └── RAMUS_TRANSFER_GUIDE.md      # Руководство по переносу в Ramus
└── report/
    ├── report.md                    # TODO: Финальный отчет с Pandoc форматированием
    └── report.docx                  # TODO: Финальный DOCX для сдачи
```

---

## Основные результаты работы

### Диаграмма A0 - Первый уровень декомпозиции

Выделено 6 основных функциональных блоков системы SportRent:

1. **A1**: Управлять аутентификацией и профилями клиентов
2. **A2**: Управлять каталогом оборудования
3. **A3**: Обрабатывать бронирование и заказы ← **декомпозирован далее**
4. **A4**: Обрабатывать платежи
5. **A5**: Управлять складскими операциями
6. **A6**: Формировать отчетность

### Диаграмма A3 - Второй уровень декомпозиции

Детализация блока A3 "Обрабатывать бронирование и заказы" на 5 подпроцессов:

1. **A31**: Проверять доступность оборудования
2. **A32**: Формировать бронирование
3. **A33**: Оформлять договор аренды
4. **A34**: Передавать заказ на оплату
5. **A35**: Подтверждать заказ

### Почему выбран блок A3 для декомпозиции?

Блок A3 является **центральным бизнес-процессом** системы SportRent:
- Реализует основную функциональность системы (оформление аренды)
- Взаимодействует с большинством других блоков (A1, A2, A4, A5, A6)
- Содержит сложную бизнес-логику, требующую детализации
- Критичен для успешной работы всей системы

---

## Справочная информация

### Методические материалы

Исходное задание находится в начале этого файла (строки 1-229).
Примеры диаграмм из методички: `img.png`, `img_1.png`, `img_2.png`

### Нотация IDEF0

Практическая работа № 5. Проектирование функциональной
модели информационной системы в нотации IDEF0
Задание: декомпозировать функциональную модель проектируемой си-
стемы в нотации IDEF0, создать декомпозиции как минимум двух уровней. До-
пустимо декомпозировать один, наиболее значимый для проектируемой систе-
мы, функциональный блок на каждом уровне. Добавить описание функцио-
нальных блоков и потоков данных, а также выводы к работе.
Цель работы
Целью данной практической работы является продолжение проектирова-
ния функциональной модели выбранной информационной системы, моделиро-
вание как минимум двух уровней декомпозиции в нотации IDEF0 и составление
текстового описания проектируемых модулей на уровнях декомпозиции. Рабо-
ту следует оформлять в соответствии с ГОСТ 7.32-2017 «Межгосударственный
стандарт. Система стандартов по информации, библиотечному и издательскому
делу. Отчет о научно-исследовательской работе. Структура и правила оформ-
ления» (введен в действие Приказом Росстандарта от 24.10.2017 N 1494-ст).
Для проектирования уровней декомпозиции диаграммы функциональной схемы
ИС в нотации IDEF0 необходимо использовать РД IDEF0 − 2000. Методология
функционального моделирования IDEF0 Руководящий документ [15].
Ход работы
Используя контекстную диаграмму проекта информационной системы,
полученную по итогам выполнения предыдущей практической работы, выпол-
нить еѐ декомпозицию (уровень А0) и выбрать и декомпозировать как минимум
один блок. Декомпозируемый блок необходимо согласовать с преподавателем.
Чтобы показать, как декомпозировать диаграмму в программе Ramus Ed-
ucational, возьмем прошлую работу.
Полная функциональная модель имеет иерархическую структуру, где каж-
дый блок имеет одну родительскую и несколько дочерних диаграмм (кроме кон-
текстной диаграммы). Иерархия производится с помощью номера, состоящий из
Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~51~
А. А. Лобанов, Ю. С. Лобанова,
Проектирование информационных систем
Е. Н. Абраш, Н. В. Братусь
префикса и числа. Нумерация на определенном уровне осуществляется слева
направо по расположению блоков. Контекстная диаграмма имеет номер А-0, а ее
декомпозиция А0; функциональные блоки на уровне А0 будут иметь нумерацию
А1, А2, А3 и т. д. Если нужно декомпозировать определенный блок, то дочерние
элементы будут нумероваться вместе с родительским номером (например, де-
композиция блока А2 приведет к нумерации А21, А22, А23 и т. д.).
Перейдем непосредственно к самой декомпозиции контекстной диаграм-
мы. Декомпозиция предназначена для детализации процессов, протекающих в
системе. Для того, чтобы добавить новый уровень декомпозиции, необходимо
выбрать декомпозируемый функциональный блок, и затем нажать на кнопку
перехода к дочерним диаграммам (см. рис. 10 предыдущей практической рабо-
ты). Если дочерняя диаграмма не была уже создана, появится окно создания
новой. Ниже на рис. 16 изображено данное окно:
Рисунок 16 – Окно создания диаграммы декомпозиции
Шаблон лучше выбирать простой, так как при выборе классического или
детализированного шаблона есть риск запутаться в стрелках, а также получить
в работе туннелированные стрелки. Туннелированные стрелки изображаются
первоначально в квадратных скобках. Квадратные скобки в стрелка показывают
проектировщику, что на предыдущем или последующем уровне произошло
удаление этой стрелки. Если автор намеренно отправил стрелку в туннель,
необходимо выбрать во всплывающем контекстном меню соответствующий
пункт и скобки из квадратных превратятся в круглые, что правильно. В против-
Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~52~
А. А. Лобанов, Ю. С. Лобанова,
Проектирование информационных систем
Е. Н. Абраш, Н. В. Братусь
ном случае необходимо разобраться в причине появления квадратных скобок и
устранить ее.
Важно! В практических работах использовать туннелирование можно
только с разрешения преподавателя, а лучше и вовсе не использовать. Необхо-
димости туннелирования в работах нет. Всего два уровня декомпозиции – не
перегружены стрелками, а следовательно, туннелирование, наоборот приведет
к ухудшению читаемости диаграмм.
Если же по договоренности с руководителем, все же принято решение о
туннелировании, тогда следует учитывать следующие моменты.
Туннелированные стрелки можно использовать в следующих случаях:
­ Необходимо изобразить малозначимую стрелку именно на ДАННОМ
уровне декомпозиции (скобки в начале стрелки).
­ Использование стрелок на нижних уровнях диаграммы происходит
одинаково во всех процессах декомпозиции (скобки в конце стрелки).
Заметим, что для их обозначения нужно поменять скобки на круглые, тем
самым обозначив, что в работе нет ошибок и данная стрелка нужна для лучше-
го понимая процессов. Для этого необходимо нажать по квадратным скобкам
правой кнопкой мыши, из контекстного меню выбрать «Тоннель» --> «Обозна-
чить тоннель круглыми скобками». Функция «Тоннель» доступна только для
стрелок с квадратными скобками.
Чтобы лучше понять использование туннелированных стрелок, вернемся
к контекстной диаграмме на рис. 15. В качестве стрелок управления у нас вы-
ступают «Законодательство» и «Политика организации», которые используют-
ся во всех процессах и уровнях модели. В самом начале их можно туннелиро-
вать (скобки в конце стрелки), тем самым обозначив, что они не будут отобра-
жаться на дочерних диаграммах, но будут использоваться во всех процессах.
Чтобы появились квадратные скобки на необходимых потоках данных, необхо-
димо удалить стрелки на уровне декомпозиции.
Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~53~
А. А. Лобанов, Ю. С. Лобанова,
Проектирование информационных систем
Е. Н. Абраш, Н. В. Братусь
Перейдем к выбору количества блоков. Количество функциональных
блоков на декомпозиции желательно обдумать заранее, но, если вдруг не хва-
тило блоков или оказались лишние, их можно добавить с помощью специаль-
ного режима добавления блоков или удалить с помощью выпадающего меню
при нажатии правой кнопкой мыши на соответствующий функциональный
блок соответственно.
На диаграммах декомпозиции должно быть как минимум 3 функциональ-
ных блока! Декомпозиция диаграммы с меньшим числом блоков не будет нести
особого смысла. С другой стороны, диаграммы с большим количеством блоков
(более 6) плохо читаются и их смысл тоже теряется. Рекомендуется использо-
вать от трех до шести функциональных блоков на одном уровне декомпозиции.
После успешной декомпозиции контекстной диаграммы появятся создан-
ные блоки и стрелки, указанные на родительском уровне. Расположение функци-
ональных блоков обычно находится с верхнего левого угла по правый нижний.
Для построения диаграммы следует руководствоваться теми же правила-
ми, что и в предыдущей работе. Однако стрелки уже присутствуют, но не при-
надлежат ни одному процессу. После обозначения основных процессов деком-
позиции, нужно присоединить стрелки в пределах контекста. Для этого наведи-
те курсор на начало или конец стрелки. Когда интересующая нас стрелка будет
выделена (ширина стрелки увеличиться), нажмите и присоедините к соответ-
ствующему блоку (появится черный треугольник). Обязательно, все вышеопи-
санные действия проводить в режиме курсора!
Стоит обратить внимание на внутренние стрелки между блоками. В ре-
жиме создания стрелок нажмите на сторону выхода функционального блока и
подведите к стороне входа другого блока. Путем внутренних стрелок осу-
ществляется взаимосвязь элементов диаграммы декомпозиции.
При декомпозиции контекстной диаграммы «Доставка пиццы из рестора-
на» были спроектированы следующие функциональные блоки:
Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~54~
А. А. Лобанов, Ю. С. Лобанова,
Е. Н. Абраш, Н. В. Братусь
Проектирование информационных систем
1. Регистрация пользователя в системе (А1);
2. Оформление заказа (А2);
3. Приготовление пиццы (А3);
4. Доставка пиццы (А4).
   Функциональный блок «Регистрация пользователя в системе». Первым
   этапом заказа пиццы из ресторана идет регистрация пользователя (потенциаль-
   ного клиента) на сайте. Для того, чтобы данный процесс смог начать свою ра-
   боту, необходимо подать на вход персональные данные пользователя. Данный
   процесс на протяжении всей своей работы будет проходить на основе законода-
   тельства и политики организации. Процесс помогут произвести программный
   модуль обработки данных и заявок пользователей и клиент. В результате отра-
   ботки процесса получатся запросы к сайту, отправляемые пользователем после
   регистрации.
   Функциональный блок «Оформление заказа». В данном блоке будет про-
   ходить формирование корзины товаров и оформление заказа на ее основе. На
   вход будут подаваться запросы к системе и список доступных товаров. Данный
   процесс также будет проходить на основе законодательства и политики органи-
   зации. Клиент, ПМ обработки данных и заявок пользователей и платежная си-
   стема будут помогать успешному прохождению процесса. На выходе получатся
   документы на заказ и сформированная заявка клиента.
   Функциональный блок «Приготовление пиццы». На данном этапе будет
   происходить приготовление пиццы в зависимости от заказа клиента. На вход
   данного процесса будут поступать заявка клиента и необходимые ингредиенты
   для приготовления. Процесс проходит также на основе законодательства и по-
   литики организации; добавляется рецепт приготовления пиццы. Процесс про-
   водят с помощью сотрудников пиццерии и оборудования. По окончанию фор-
   мируется собранный заказ.
   Функциональный блок «Доставка пиццы». В последнем процессе происхо-
   дит доставка заказа рестораном до клиента. На вход поступает собранный заказ.
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~55~
   А. А. Лобанов, Ю. С. Лобанова,
   Проектирование информационных систем
   Е. Н. Абраш, Н. В. Братусь
   Процессом управляют законодательство и политика организации. Для правиль-
   ного выхода процессу помогают клиент, сотрудники пиццерии; программный
   модуль обрабатывает статус доставки на протяжение всего процесса. В результа-
   те заказ доставляется до клиента и собирается на этом статистика продаж.
   Важными действиями в проектировании диаграммы декомпозиции явля-
   ются разветвляющиеся стрелки (активно используются в управлении и меха-
   низмах). Чтобы создать ветвление стрелки, необходимо выбрать режим добав-
   ления стрелок, навести на начало стрелки до появления его выделения от
   остальной части, нажать на стрелку и довести до нужного блока. Создать такие
   стрелки довольно просто, но вот сделать так, чтобы диаграмма была более чи-
   таемой – сложнее. Следует отслеживать и недопускать ненужные пересечения
   стрелок для снижения визуальной нагрузки на диаграмму.
   Если сегменты (линии стрелки, которые начинаются или заканчиваются
   на стороне блока, в точке ветвления или на границе) стрелки идут в более чем
   2 блока, нужно использовать следующий принцип:
1. Доведите основную стрелку до блока, в котором она впервые встреча-
   ется.
2. Сделайте ветвление стрелки до последнего блока, в котором она встре-
   чается.
3. В результате получится довольно большое ветвление, от которого
   можно вести другие сегменты к блокам, находящимся между началом и кон-
   цом. Для их реализации необходимо нажать на самом длинном сегменте, реали-
   зованном в пункте 2 (при наведении выделяется жирным), и довести до нужно-
   го блока; процесс проходит в режиме создания стрелок.
   Старайтесь разные разветвляющееся стрелки «вкладывать друг в друга»,
   создавая таким образом меньшие пересечения. Не забывайте о центрировании
   стрелок, добавлении тильд, а также смены цвета для разветвляющихся стрелок.
   На рис. 17 представлен первый уровень декомпозиции в нотации IDEF0.
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~56~
   А. А. Лобанов, Ю. С. Лобанова,
   Е. Н. Абраш, Н. В. Братусь
   Проектирование информационных систем
   Рисунок 17 – Декомпозиция контекстной диаграммы
   Далее произведем декомпозицию функционального блока «Доставка
   пиццы». Перемещаться между уровнями диаграммы нам помогают те же стрел-
   ки, расположенные сверху на линии инструментов. В результате получены сле-
   дующие функциональные блоки:
1. Получение заявки на доставку (А41).
2. Доставка пиццы клиенту (А42).
3. Подтверждение доставки заказа (А43).
4. Добавление заказа в отчетность по продажам (А44).
   Хотим отметить, что на диаграмме появится туннелированная стрелка
   «Курьерская служба» (на верхних уровнях она малозначима и может быть по-
   казана лишь на данном уровне модели).
   Функциональный блок «Получение заявки на доставку». На данном этапе
   сотрудники пиццерии передают заказ курьерской службе для доставки. Вход
   блока – собранный заказ, механизмы – сотрудники пиццерии, курьерская служ-
   ба, управление – законодательство, политика организации. На выходе получа-
   ется заявка на доставку.
   На этапе «Доставка пиццы клиенту» курьер доставляет заказ до пункта
   назначения. На вход подают заявку, выполняют процесс курьерская служба и
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~57~
   А. А. Лобанов, Ю. С. Лобанова,
   Проектирование информационных систем
   Е. Н. Абраш, Н. В. Братусь
   клиент, руководствуясь законодательством и политикой организации. В резуль-
   тате заказ будет доставлен.
   Этап «Подтверждение доставки заказа» проходит с помощью курьерской
   службы и модулем обработки заявок пользователей. Курьер должен подтвер-
   дить доставленный заказ, руководствуясь политикой организации и законода-
   тельством. В последний этап переходит статус доставки.
   Последний этап доставки «Добавление заказа в отчетность по продажам».
   После получения окончательного статуса доставки программный модуль добавля-
   ет заказ в отчетность по продажам и формирует финальную статистику продаж.
   На рис. 18 представлена полученная диаграмма:
   Рисунок 18 – Диаграмма декомпозиции процесса «Доставка пиццы»
   По окончанию построения какой-либо диаграммы, можно изменить ее
   статус проектирования. На рис. 18 можно увидеть в шапке статус «Черновик».
   Для изменения статуса на определенном уровне модели выберите «Диаграмма»
   --> «Свойства диаграммы» --> «Статус» и нажмите на необходимый статус.
   В работе также необходимо добавить текстовое описание функциональ-
   ных блоков с их входящими и исходящими объектами (данными).
