Практическая работа № 7. Проектирование структуры данных
информационной системы и создание ER-диаграммы
Цель работы
Создание модели «сущность – связь» в нотации ERD.
Основу проекта информационной системы составляют функциональная
модель и модель взаимосвязей сущностей системы. В процессе создания моде-
ли «сущность – связь» студенты закрепляют знания о базах данных, получен-
ные ранее. Формируют навыки проектирования баз данных. Выполняется ана-
лиз и формирование структуры базы данных.
В процессе выполнения работы необходимо решить задачу анализа моде-
ли потоков данных в нотации DFD и формирования ER-диаграммы. Вариант
индивидуального задания определяет предметную область для разработки про-
екта базы данных некоторой информационной системы. Последовательность
выполнения работы представлена далее.
1. Создание плана разработки проекта БД ИС. В процессе необходимо
   рассматривать БД как составную часть проектируемой ИС.
2. Создание текстового описания информационных объектов, сущностей
   и связей Проектируемой БД. Для этой цели повторно выполнить анализ пред-
   метной области создания ИС с целью выявления сущностей и связей. В процес-
   се полезно выполнить описание типовых запросов проектируемой БД.
3. Построение концептуальной модели данных, создание ER-диаграммы
   «сущность – связь».
4. Проверка полноты и корректности созданной ER-диаграммы с исполь-
   зованием языка SQL. Для проверки необходимо создать типовые запросы,
   например, поиск и анализ данных.
5. Оформление отчета о выполненной работе. Отчет должен содержать:
   план разработки модели БД, выдержки из анализа предметной области, касаю-
   щиеся определения сущностей БД и связей между ними, ER-диаграмму, приме-
   ры тестовых запросов SQL.
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~68~
   А. А. Лобанов, Ю. С. Лобанова,
   Е. Н. Абраш, Н. В. Братусь
   Проектирование информационных систем
   Теоретические сведения
   База данных (БД) – важнейший компонент информационной системы. Ба-
   за данных – набор данных, структурированный особым образом в рамках вы-
   бранной модели.
   Модель данных – это концептуальное представление данных (в частности
   сущностей и связей между ними) в проектируемой БД, выраженное графически
   (в виде схемы) и/или описательно (текстовое представление). Модель данных
   создается для того, чтобы разработчик понимал концепцию организации хране-
   ния и обработки данных.
   Наиболее часто используют семантическое моделирование для описания
   модели данных. Как инструмент семантического моделирования используют
   различные варианты диаграмм «сущность-связь» (от английского Entity-
   Relationship).
   Понятия «сущность» и «связь» являются базовыми понятиями ER-
   диаграмм. Сущность, как объект диаграммы entity-relation, описывает или пред-
   ставляет некоторые объекты или наборы объектов, как реальных, так и аб-
   страктных. В качестве таких объектов могут выступать сотрудники или люди,
   которые выполняют определенные действия, подлежащие автоматизации. Объ-
   екты описываются или группируются в виде сущности по характерному при-
   знаку или характеристике, которые позволяют обособить данный объект от
   других. В нотации, предложенной Гордоном Эверестом, на ER-диаграмме сущ-
   ности представляются в виде прямоугольников. Внутри прямоугольника нахо-
   диться название этой сущности. Название пишется в единственном числе, име-
   нительном падеже.
   «Экземпляр» сущность – еѐ конкретный представитель. Также использу-
   ются термины: «запись» и «кортеж», они являются эквивалентом экземпляра.
   Признак или характеристика, использованные для выделения объекта в сущ-
   ность, называется – «атрибут сущности».
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~69~
   А. А. Лобанов, Ю. С. Лобанова,
   Проектирование информационных систем
   Е. Н. Абраш, Н. В. Братусь
   Связь − определенная ассоциация (или соответствие, взаимозависимость)
   между двумя сущностями. Связь может соединять не только две сущности, но
   сущность «саму с собой». Сущность необходимы для поиска взаимосвязей
   внутри БД.
   Связи имеют несколько разных типов.
   Тип один-к-одному. При таком типе связи только одна запись первой
   сущности связана только с одной запись в другой сущности. Например, у одно-
   го преподавателя на кафедре есть один компьютер.
   Один-ко-многим. Такой тип связи встречается наиболее часто. При таком
   типе связей несколько строк из дочерний таблицы зависят от одной строки в
   родительской таблице. Например, в одной группе учатся несколько студентов.
   В этом случае таблица группы является родительской, а таблица студентов –
   дочерней.
   При использовании типа связи «многие-ко-многим» подразумевается, что
   множественным записям из одной таблицы соответствуют множественные за-
   писи из другой таблицы. Например, у студентов групп предметы ведут разные
   преподаватели.
   Порядок выполнения работы
   Изучив предметную область (образовательное учреждение), переходят к
   изучению нормативных документов, регулирующих деятельность организа-
   ции – заказчика. По результатам этого этапа выделяют цель и задачи системы
   (см. практические работы № 1–3).
   Для примера рассмотрим систему сопровождения учебного процесса в
   высшем учебном заведении. Задача системы – сбор и обработка информации об
   основных участниках учебного процесса. Основные участники процесса – сту-
   денты и преподаватели. Система должна формировать печатные формы доку-
   ментов, необходимых для обеспечения непрерывности учебного процесса, в
   том числе: ведомости, допуски, сводные отчѐты по результатам промежуточной
   аттестации. Система использует данные и документы от приѐмной комиссии,
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~70~
   А. А. Лобанов, Ю. С. Лобанова,
   Проектирование информационных систем
   Е. Н. Абраш, Н. В. Братусь
   учебных отделов институтов, управления кадров. Информация об успеваемости
   студентов хранится в течение всего периода обучения, а часть (зачетная книга,
   студенческий билет, личный листок, учебная карточка) хранится 75 лет после
   завершения обучения.
   Таким образом, проектируемая система должна выполнять следующие
   действия:
1. Хранить данные студентов и их успеваемость.
2. Генерировать и выводить на печать ведомости и допуски в рамках
   учебных отделов институтов.
   Выделим все существительные в этих предложениях и проанализируем
   их: Студент – явная сущность. Успеваемость – явная сущность. Институт −
   сущность. Специальность – сущность, но, требуется уточнение, сколько спе-
   циальностей существует в рамках одного института. Предмет – сущность.
1. На первоначальном этапе моделирования данных информационной си-
   стемы явно выделены две основные сущности: Студент и Успеваемость.
2. Критерием успеваемости является наличие/отсутствие отметки о сдаче
   экзаменов и зачетов.
3. Сразу возникает очевидная связь один-ко-многим − «студент сдаѐт не-
   сколько экзаменов» и «экзамены сдаются каждым студентом». Можно ее пред-
   ставить следующим образом (см. рис. 24)
   Рисунок 24 – Пример связи один-ко-многим в различных нотациях
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~71~
   А. А. Лобанов, Ю. С. Лобанова,
   Проектирование информационных систем
   Е. Н. Абраш, Н. В. Братусь
   Студенты числятся за конкретными институтами, обучаются по опреде-
   лѐнным специальностям и сдают экзамены по дисциплинам (предметам) со-
   гласно программе подготовки данной специальности. Учитывая это, в
   ER-модель необходимо добавить дополнительные сущности. Тогда получим
   диаграмму, представленную на рис. 25.
   Рисунок 25 – Пример построения ER-диаграммы
   Следующий этап проектирования модели требует внести атрибуты сущ-
   ностей. После этого диаграмма примет законченный вид, представленный на
   рис. 26.
   Рисунок 26 – ER-диаграмма, дополненная атрибутами сущностей
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~72~
   А. А. Лобанов, Ю. С. Лобанова,
   Проектирование информационных систем
   Е. Н. Абраш, Н. В. Братусь
   Отметим, что предложенные этапы моделирования являются условными и
   нацелены на формирование общих представлений о процессе моделирования.
   Разработанная ER-диаграмма – лишь концепция, которая не учитывает особенно-
   сти конкретной СУБД. Однако физическую диаграмму, учитывающую особенно-
   сти СУБД, можно построить, для этого надо учитывать такие параметры, как до-
   пустимые типы, наименования полей и таблиц, ограничения целостности и т. п.
   Видеопример выполнения работы
   Для выполнения работы рекомендуется использовать бесплатный онлайн-
   сервис draw.io https://rt.draw.io/. Процесс выполнения можно посмотреть по
   ссылке: https://youtu.be/uKImrwjOKTU.
   Дополнительный материал по работе
   В разделе будет описан дополнительный материал по проектированию
   ER-диаграмм в сервисе draw.io (элементы построения можно найти в разделе
   «сущность-связь»).
   Для примера возьмем систему доставки пиццы. Можно выделить такие
   основные сущности, как Пицца, Ингредиент, Заказ, Клиент, Служба доставки
   (все сущности на диаграмме обозначаются в единственном числе).
   На первом этапе построим связь между сущностями Пицца и Ингредиент.
   В данном случае образуется связь многое-ко-многим – «пицца содержит много
   ингредиентов» и «один ингредиент может содержаться в разных пиццах». На
   практическом уровне данную связь не советуют использовать, так как в даль-
   нейшем могут возникнуть проблемы и ошибки в разработанной базе данных.
   Чтобы упростить связь, создадим вспомогательную сущность «Состав» и свя-
   жем ее с остальными таблицами со связью один-ко-многим. Получится табли-
   ца, которая будет содержать уникальный номер пиццы и ингредиента (допол-
   нительным атрибутом получится количество ингредиентов) (см. рис. 27).
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~73~
   А. А. Лобанов, Ю. С. Лобанова,
   Е. Н. Абраш, Н. В. Братусь
   Проектирование информационных систем
   Рисунок 27 – Проектирование сущностей Пицца и Ингредиент и связей между ними
   У каждой сущности есть свой уникальный номер (например, pizza_
   id или
   ingredient_
   id), а также ряд дополнительных атрибутов. У сущности Пицца –
   название, диаметр, цена, вес; у сущности Ингредиент – название, единица из-
   мерения.
   Чтобы произвести доставку пиццы на дом, для начала нужно оформить
   Заказ, а выполняет его Клиент. Создадим данные две сущности и установим
   между ними связь один-ко-многим – «клиент может иметь много заказов, но
   сам заказ относится к одному клиенту». Далее возникает еще одна связь мно-
   гое-ко-многим между Заказом и Пиццей, исправим ее тем же способом, что по-
   казан выше. В результате к нашей ER-диаграмме прибавляются еще 3 таблицы
   (см. рис. 28).
   Рисунок 28 – Проектирование сущностей Клиент и Заказ
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~74~
   А. А. Лобанов, Ю. С. Лобанова,
   Проектирование информационных систем
   Е. Н. Абраш, Н. В. Братусь
   В вспомогательной таблице «Пицца в заказе» присутствуют уникальные
   номера пиццы и заказа, а также дополнительные атрибуты – количество и сумма.
   Для оформления заказа от клиента всегда требуется его имя и фамилия,
   телефон. В самом заказе помимо добавленных пицц необходимо знать дату за-
   каза, итоговую сумму, комментарий к заказу, адрес доставки.
   Последним этапом проектирования является процесс доставки пиццы. У
   каждой пиццерию, доставляющей пиццу, есть служба доставки. В самой служ-
   бе всегда есть курьеры. Из данной информации можно определить, что у сущ-
   ностей Служба доставки и Курьер будет связь один-ко-многим – «у службы
   есть много работников, но курьер работает лишь в одной».
   После получения нового заказа, его номер пересылается в службу достав-
   ки и назначается курьер. При доставке курьер должен знать информацию о за-
   казе и о клиенте, а клиент в свою очередь должен быть уведомлен, какой курь-
   ер доставляет ему пиццу. Из данной информации получились следующие сущ-
   ности и связи (см. рис. 29):
   Рисунок 29 – Проектирование сущностей Служба доставки, Курьер и Доставка
   Кратко рассмотрим атрибуты сущностей. У Службы доставки – название
   и местоположение, у Курьера – имя, зарплата, телефон, у Доставки – подтвер-
   ждение заказа.
   Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~75~
   А. А. Лобанов, Ю. С. Лобанова,
   Е. Н. Абраш, Н. В. Братусь
   Проектирование информационных систем
   Для наглядности на рис. 30 представлена полная ER-диаграмма системы
   доставки пиццы:
   Рисунок 30 – ER-диаграмма системы доставки пиццы
   Контрольные вопросы к практической работе № 7
1. Что такое база данных информационной системы? Дайте определение.
2. Что такое модель данных? Дайте определение.
3. Что такое «сущность» в рамках ERD-моделирования?
4. Что такое «связь» в рамках ERD-моделирования?
5. Какую роль играет ER-диаграмма в проекте информационной системы?
6. Какую задачу надо решить в процессе выполнения работы?
7. В каком аспекте рассматривается БД информационной системе в рам-
   ках данной работы?
8. Каким образом определяются сущности в процессе создания ER-
   диаграммы?
9. Кто из авторов предложил наиболее часто используемую нотацию
   ERD-моделирования?
10. Что такое «экземпляр сущности»? Дайте определение.
11. Каков принцип группировки объектов в общую сущность ERD?
    Издательство АНО ДПО «Межрегиональный центр инновационных технологий в образовании» ~76~
    А. А. Лобанов, Ю. С. Лобанова,
    Е. Н. Абраш, Н. В. Братусь
    Проектирование информационных систем
12. Какие элементы входят в модель ERD?
13. Какие CASE-средства рекомендованы для разработки ER-диаграммы?
14. Какие типы связей доступны при создании ER-диаграммы?
15. Назовите правила и приведите пример использования связей
    один-ко-многим ER-диаграммы?
16. Назовите правила и приведите пример использования связей
    один-к-одному ER-диаграммы?
17. Назовите правила и приведите пример использования связей
    многие-ко-многим ER-диаграммы?
