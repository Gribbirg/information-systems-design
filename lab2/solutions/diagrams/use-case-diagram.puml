@startuml SportRent Use Case Diagram
!theme plain
skinparam packageStyle rectangle
skinparam actorStyle awesome

title Диаграмма прецедентов системы SportRent\nСистема управления арендой спортивного оборудования

' Определение действующих субъектов
left to right direction

actor "Клиент" as Client
actor "Менеджер" as Manager
actor "Администратор" as Admin
actor "Складской\nработник" as Warehouse
actor "Платежная\nсистема" as PaymentSystem

' Граница системы
rectangle "Система SportRent" {

  ' === Прецеденты для работы с аутентификацией ===
  usecase "Авторизация" as UC02
  usecase "Управление профилем" as UC03

  ' === Прецеденты для работы с каталогом ===
  usecase "Просмотр каталога\nоборудования" as UC04
  usecase "Поиск оборудования" as UC05

  ' === Прецеденты для бронирования и заказов ===
  usecase "Создание бронирования" as UC08
  usecase "Проверка наличия\nоборудования" as UC10
  usecase "Оформление заказа" as UC11
  usecase "Оплата заказа" as UC13
  usecase "Обработка платежа" as UC14

  ' === Прецеденты для работы клиента с историей ===
  usecase "Просмотр истории\nаренды" as UC17

  ' === Прецеденты для управления каталогом (Менеджер) ===
  usecase "Управление каталогом" as UC19
  usecase "Управление ценами" as UC24

  ' === Прецеденты для обработки заказов (Менеджер) ===
  usecase "Обработка заказов" as UC25

  ' === Прецеденты для отчетности ===
  usecase "Формирование отчетов" as UC27

  ' === Прецеденты для складских операций ===
  usecase "Выдача оборудования" as UC32
  usecase "Прием возврата\nоборудования" as UC35
  usecase "Инвентаризация" as UC39

  ' === Прецеденты для администрирования ===
  usecase "Управление\nпользователями" as UC40
  usecase "Настройка системы" as UC45
  usecase "Резервное копирование" as UC47
}

' === Связи Клиента ===
Client --> UC02
Client --> UC03
Client --> UC04
Client --> UC05
Client --> UC08
Client --> UC11
Client --> UC13
Client --> UC17

' === Связи Менеджера ===
Manager --> UC02
Manager --> UC19
Manager --> UC24
Manager --> UC25
Manager --> UC27

' === Связи Складского работника ===
Warehouse --> UC02
Warehouse --> UC32
Warehouse --> UC35
Warehouse --> UC39

' === Связи Администратора ===
Admin --> UC02
Admin --> UC40
Admin --> UC45
Admin --> UC47

' === Связи с внешней системой ===
PaymentSystem --> UC14

' === Связи включения (include) ===
UC02 ..> UC03 : <<include>>

UC05 ..> UC04 : <<include>>

UC08 ..> UC04 : <<include>>
UC08 ..> UC10 : <<include>>

UC11 ..> UC08 : <<include>>

UC13 ..> UC14 : <<include>>

' === Связи обобщения ===
Admin -up-|> Manager : inherits

' Примечания
note right of UC10
  Проверяет доступность
  оборудования на
  выбранный период
end note

note right of UC14
  Взаимодействие с внешней
  платежной системой для
  обработки транзакций
end note

@enduml
